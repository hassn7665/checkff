

<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>التحقق من البطاقة</title>

<style>
body {
    font-family: Arial, sans-serif;
    direction: rtl;
    text-align: center;
    background: #f2f2f2;
}
.box {
    background: white;
    padding: 20px;
    margin: 60px auto;
    width: 90%;
    max-width: 400px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h2 {
    margin-bottom: 20px;
}
</style>

</head>
<body>

<div class="box">
    <h2>نتيجة التحقق</h2>
    <div id="result">جاري التحقق...</div>
</div>

<script>

const sheetURL = "https://opensheet.elk.sh/1b-WOr0vxcbaSoEN4SAmL03pucb6YVZEWVZm_Nx0V7VY/MembershipData";

const params = new URLSearchParams(window.location.search);
const sn = params.get("sn");

if (!sn) {
    document.getElementById("result").innerHTML = "❌ رقم البطاقة غير موجود";
} else {

fetch(sheetURL)
.then(res => res.json())
.then(data => {

    const card = data.find(row =>
        row.SN && row.SN.toString().trim() === sn.toString().trim()
    );

    const result = document.getElementById("result");

    if (card) {
        result.innerHTML = `
            <p><strong>الاسم الثلاثي:</strong> ${card.name}</p>
            <p><strong>الرقم النقابي:</strong> ${card.union}</p>
            <p><strong>الصفة النقابية:</strong> ${card.role}</p>
        `;
    } else {
        result.innerHTML = "❌ لم يتم العثور على البطاقة";
    }

})
.catch(() => {
    document.getElementById("result").innerHTML = "❌ حدث خطأ أثناء جلب البيانات";
});

}

</script>

</body>
</html>